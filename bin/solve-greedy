#!/usr/bin/env python
import click as click
import solver as slv


@click.command()
@click.argument('input', type=click.Path(exists=True))
@click.argument('output', type=click.Path())
@click.option('-n', '--num-pieces', type=int, default=16)
@click.option('-r', '--random-seed', type=int, default=None)
def solve_greedy(input, output, num_pieces, random_seed):
    images = slv.subdivide_image(slv.load_image(input), num_pieces)
    x, y = slv.solve_greedy(images, random_seed=random_seed)
    slv.save_image(output, slv.reconstruct(images, x, y))


if __name__ == '__main__':
    solve_greedy()
